# .agent ディレクトリ

このディレクトリは **Antigravity** (AI エージェント) 専用のディレクトリであり、開発支援に使用される設定ファイルやワークフロー定義が含まれています。

## ディレクトリ構成

- **workflows/**: 特定のワークフロー（例: `/init`, `/resume`）を定義した Markdown ファイルが格納されています。AI エージェントはこれらのファイルを読み込み、事前定義されたタスクを実行します。

## 利用可能なワークフロー

`.agent/workflows/` に定義されている定型作業です。チャットでスラッシュコマンドを入力して実行できます。

- **`/init`** (init.md)
  **セッションの初期化**
  プロジェクトの定義ファイル（`.agent/AGENT.md`）を読み込み、ユーザー設定に基づいてセッションを開始します。作業を始めるときに最初に実行してください。

- **`/check-updates`** (check-updates.md)
  **設定の更新確認**
  共有設定リポジトリ（`.shared-config`）に新しいルールやワークフローがないか確認し、現在の設定と比較します。

- **`/save`** (save.md)
  **進捗の保存**
  現在の作業状況や未完了タスクを `.agent/work/progress_<timestamp>.md` に保存し、中断・共有しやすくします。

- **`/resume`** (resume.md)
  **作業の再開**
  最後に保存した進捗ファイルを分析し、前回のコンテキストを復元して作業を再開します。

- **`/propose-update`** (propose-update.md)
  **設定変更の提案**
  共有設定リポジトリに対して変更を提案します。新しいブランチを作成して修正・プッシュし、PR作成を案内した後、ローカル環境を元の状態（クリーン）に戻します。
- **config.yml**: ユーザー固有の設定ファイル（例: 言語設定）です。各開発者が好みの環境を設定できるように、このファイルは **git の管理対象外** (`.gitignore`) となっています。
- **config.yml.sample**: 設定ファイルのサンプルです。これを `config.yml` にコピーして、個人の設定を行ってください。

## 用途

このディレクトリは主に、AI エージェントがプロジェクト固有のルール、ワークフロー、およびユーザー設定を理解するために使用されます。明示的に設定されていない限り、標準的なビルドツールやその他の開発ユーティリティに影響を与えることはありません。

## `.agent/work` ディレクトリの運用ポリシー

`.agent/work` ディレクトリは、Antigravity の作業領域（スクラッチパッド）として指定されています。
- リポジトリを汚さないよう、`.gitignore` に含められています。
- **書き込みアクセス**: `.gitignore` に含まれるファイルへの `write_to_file` はブロックされるため、Antigravity がこのディレクトリにファイルを作成・編集する場合は `run_command` を使用する必要があります。
- **安全性**: ファイル書き込みのための `run_command` 使用は、安全確保のため **`.agent/work` ディレクトリに対してのみ** 許可されます。その他のディレクトリへの書き込みは、標準ツール (`write_to_file`) を使用してください。
